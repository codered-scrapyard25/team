import React, { useState, useEffect } from 'react';

const CodeRedTeamIntro = () => {
const [selectedMember, setSelectedMember] = useState(null);
const [loading, setLoading] = useState(true);
const [clickPosition, setClickPosition] = useState({ x: 0, y: 0 });
const [clickedMemberId, setClickedMemberId] = useState(null);

useEffect(() => {
// Simulate loading time
const timer = setTimeout(() => {
setLoading(false);
}, 2000);

return () => clearTimeout(timer);
}, []);

const teamMembers = [
{
id: 1,
name: "Vaibhav",
nickname: "YB",
role: "Lead Developer",
bio: "Specializes in backend architecture and database optimization. Known for solving complex problems with elegant
solutions. Always has a cup of coffee nearby.",
avatar: "V"
},
{
id: 2,
name: "Veekshith",
nickname: "Veek",
role: "Frontend Specialist",
bio: "UI/UX expert who turns wireframes into beautiful interfaces. Has an eye for detail and can spot a misaligned pixel
from miles away.",
avatar: "V"
},
{
id: 3,
name: "Snithik",
nickname: "Snikki",
role: "Systems Engineer",
bio: "Infrastructure guru who makes sure everything runs smoothly behind the scenes. Can debug a server in his sleep.",
avatar: "S"
},
{
id: 4,
name: "Jimit",
nickname: "JimJam",
role: "Project Manager",
bio: "Keeps the team organized and projects on schedule. Master of agile methodologies and team motivation. Always has a
plan B.",
avatar: "J"
}
];

const handleSelectMember = (member, event) => {
// Capture click position for zoom effect
const rect = event.currentTarget.getBoundingClientRect();
setClickPosition({
x: rect.left + rect.width / 2,
y: rect.top + rect.height / 2
});
setClickedMemberId(member.id);

// Short delay before showing the expanded view
setTimeout(() => {
setSelectedMember(member);
}, 100);
};

const handleClose = () => {
setSelectedMember(null);

// Reset clicked member after animation completes
setTimeout(() => {
setClickedMemberId(null);
}, 500);
};

if (loading) {
return (
<div className="w-full h-screen flex items-center justify-center bg-black">
    <div className="animate-spin w-16 h-16 relative">
        <svg viewBox="0 0 100 100" className="w-full h-full">
            <path d="M50 10 L50 50 L90 50 L90 90 L50 90 L50 50 L10 50 L10 10 Z" fill="none" stroke="#DC2626"
                strokeWidth="8" />
        </svg>
    </div>
</div>
);
}

return (
<div className="w-full h-full min-h-screen flex flex-col items-center justify-center bg-black p-8">
    <div className="mb-12 text-center">
        <h1 className="text-5xl font-bold text-white mb-3">
            <span className="text-red-600">Code</span>Red
        </h1>
        <p className="text-gray-400 italic">"The best Scrapyard team in existence."</p>
    </div>

    <div className="flex flex-row gap-6 justify-center flex-wrap">
        {teamMembers.map((member) => (
        <div key={member.id} onClick={(e)=> handleSelectMember(member, e)}
            className={`relative w-64 h-32 bg-black border-2 rounded-lg overflow-hidden cursor-pointer transition-all
            duration-300 ${
            clickedMemberId === member.id && selectedMember ? 'opacity-0 scale-150' :
            clickedMemberId && !selectedMember ? 'scale-100 opacity-100' :
            'scale-100'
            }`}
            style={{
            borderColor: 'rgba(220, 38, 38, 0.8)',
            boxShadow: '0 0 0px rgba(220, 38, 38, 0)',
            transition: 'all 0.4s cubic-bezier(0.68, -0.6, 0.32, 1.6)'
            }}
            >
            {/* Glow effect overlay */}
            <div
                className="absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none">
                <div
                    className="absolute -inset-1 bg-red-600 rounded-lg opacity-0 hover:opacity-75 blur-md transition-opacity duration-300">
                </div>
            </div>

            <div className="relative z-20 h-full p-4 flex bg-black">
                <div className="h-full w-1/3">
                    <div
                        className="w-16 h-16 rounded-full bg-red-800 flex items-center justify-center text-white font-bold text-xl overflow-hidden">
                        <img src={`/api/placeholder/160/160`} alt={member.name}
                            className="w-full h-full object-cover" />
                    </div>
                </div>
                <div className="w-2/3">
                    <h3 className="text-white font-semibold">{member.name}</h3>
                    <p className="text-gray-400 text-sm">"{member.nickname}"</p>
                    <p className="text-red-500 text-sm mt-2">{member.role}</p>
                </div>
            </div>
        </div>
        ))}
    </div>

    {selectedMember && (
    <div className="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-30 transition-all duration-500"
        onClick={handleClose} style={{ animation: 'fadeIn 0.3s ease-out' , }}>
        <div className="w-full max-w-lg bg-black border-2 border-red-600 rounded-lg p-6 relative transition-all"
            onClick={(e)=> e.stopPropagation()}
            style={{
            animation: `zoomFromPoint 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)`,
            boxShadow: '0 0 25px rgba(220, 38, 38, 0.8)',
            transformOrigin: `${clickPosition.x}px ${clickPosition.y}px`
            }}
            >
            <button onClick={handleClose} className="absolute top-4 right-4 text-gray-400 hover:text-white">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <div className="flex items-center mb-6">
                <div
                    className="w-24 h-24 rounded-full bg-red-800 flex items-center justify-center overflow-hidden border-2 border-red-500">
                    <img src={`/api/placeholder/240/240`} alt={selectedMember.name}
                        className="w-full h-full object-cover" />
                </div>
                <div className="ml-4">
                    <h2 className="text-2xl font-bold text-white">{selectedMember.name}</h2>
                    <p className="text-red-500">"{selectedMember.nickname}"</p>
                    <p className="text-gray-400 mt-1">{selectedMember.role}</p>
                </div>
            </div>

            <div className="bg-gray-900/50 p-4 rounded-lg">
                <p className="text-gray-300">{selectedMember.bio}</p>
            </div>

            <div className="mt-6 flex justify-between">
                <div className="text-gray-400">
                    <span className="text-red-500">Code</span>Red Member
                </div>
                <div className="text-gray-500 text-sm">
                    Click outside to close
                </div>
            </div>
        </div>
    </div>
    )}

    <style jsx global>
        {
            ` @keyframes zoomFromPoint {
                from {
                    opacity: 0;
                    transform: scale(0.1);
                }

                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }

                to {
                    opacity: 1;
                }
            }

            @keyframes pulse {
                0% {
                    box-shadow: 0 0 5px rgba(220, 38, 38, 0.5);
                }

                50% {
                    box-shadow: 0 0 20px rgba(220, 38, 38, 0.8);
                }

                100% {
                    box-shadow: 0 0 5px rgba(220, 38, 38, 0.5);
                }
            }

            .banner-glow {
                animation: pulse 2s infinite;
            }

            `
        }
    </style>

    <div className="mt-12 text-center text-gray-500 text-sm">
        <p>Â© 2025 CodeRed Team</p>
    </div>
</div>
);
};

export default CodeRedTeamIntro;